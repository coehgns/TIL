# JS Scope

# 1. 스코프란?

- 스코프는 참조 대상 식별자를 찾아내기 위한 규칙임.
- 만약 스코프가 없다면 같은 식별자 이름은 충돌을 일으켜 프로그램 전체에서 하나밖에 사용할 수 없음.

# 2. 스코프의 구분

- 자바스크립트에서의 스코프
  - 전역 스코프
    - 코드 어디에서든지 참조할 수 있음.
  - 지역 스코프
    - 함수 코드 블록이 만든 스코프로 함수 자신과 하위 함수에서만 참조할 수 있음.
- 모든 변수는 스코프를 갖음.
- 변수의 관점에서의 스코프
  - 전역 변수
    - 전역에서 선언된 변수이며 어디에든 참조할 수 있음.
  - 지역 변수
    - 지역 내에서 선언된 변수이며 그 지역과 그 지역의 하부 지역에서만 참조할 수 있음.
- 변수는 선언 위치에 의해 스코프를 가지게 됨.(전역에서 선언된 변수는 전역 스코프를 갖는 전역 변수이고, 지역에서 선언된 변수는 지역 스코프를 갖는 지역 변수가 됨.)

# 3. 자바스크립트 스코프의 특징

- 자바스크립트는 함수 레벨 스코프를 따름.
- 함수 레벨 스코프란 함수 코드 블랙 내에서 선언된 변수는 함수 코드 블록 내에서만 유효하고 함수 외부에서는 유효하지 않음.
- let keyword를 사용하면 블록 레벨 스코프를 사용할 수 있음.

```jsx
var x = 0;
{
  var x = 1;
  console.log(x); // 1
}
console.log(x);   // 1

let y = 0;
{
  let y = 1;
  console.log(y); // 1
}
console.log(y);   // 0
```

# 4. 전역 스코프

- 전역에 변수를 선언하면 이 변수는 어디서든지 참조할 수 있는 전역 스코프를 갖는 전역 변수가 됨.(var 키워드로 선언한 전역 변수는 전역 객체 window의 프로퍼티임.)

```jsx
var global = 'global';

function foo() {
  var local = 'local';
  console.log(global);
  console.log(local);
}
foo();

console.log(global);
console.log(local); // Uncaught ReferenceError: local is not defined
```

# 5. 비 블록 레벨 스코프

- 자바스크립트는 블록 레벨 스코프를 사용하지 않으므로 함수 밖에서 선언된 변수는 코드 블록 내에서 선언되었다할지라도 모두 전역 스코프를 갖게됨.

# 6. 함수 레벨 스코프

- 자바스크립트는 함수 레벨 스코프를 사용함.
- 함수 내에서 선언된 매개변수와 변수는 함수 외부에서는 유효하지 않음.

# 7. 렉시컬 스코프

- 렉시컬 스코프는 함수를 어디서 호출하는지가 아니라 어디에 선언하였는지에 따라 결정됨.
- 자바스크립트는 렉시컬 스코프를 따르므로 함수를 선언한 시점에 상위 스코프가 결정됨.

# 8. 암묵적 전역

- 전역 객체의 프로퍼티가되어 마치 전역 변수처럼 동작하는 현상을 암묵적 전역이라고 함.

# 9.최소한의 전역변수 사용

- 전역변수 사용을 최소화하는 방법 중 하나는 애플리케이션에서 전역변수 사용을 위해 전역변수 객체 하나를 만들어 사용하는 것임.

# 10. 즉시실행 함수를 이용한 전역변수 사용 억제

- 전역변수 사용을 억제하기 위해 즉시 실행 함수를 사용할 수 있음.
- 이 방법을 사용하면 전역변수를 만들지 않으므로 라이브러리 등에 자주 사용됨.(즉시 실행 함수는 즉시 실행되고 그 후 전역에서 바로 사라짐.)