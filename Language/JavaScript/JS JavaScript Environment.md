# JS JavaScript Environment

- 자바스크립트 런타임 환경인 Node.js의 등장으로 자바스크립트는 웹 브라우저를 벗어나 서버 사이드 애플리케이션 개발에서도 사용되는 범용 개발 언어가 되었음.

- 자바스크립트가 가장 많이 사용되는 분야는 역시 웹 브라우저 환경에서 동작하는 웹 페이지/애플리케이션임.

- 브라우저의 핵심 기능은 사용자가 참조하고자 하는 웹페이지를 서버에 요청(Request)하고 서버의 응답(Response)을 받아 브라우저에 표시하는 것임.

- 브라우저는 서버로부터 HTML, CSS, JavaScript, 이미지 파일 등을 응답받음.

- HTML, CSS 파일은 렌더링 엔진의 HTML 파서와 CSS 파서에 의해 파싱되어 DOM, CSSOM 트리로 변환되고 렌더 트리로 결합됨. 이렇게 생성된 렌더 트리를 기반으로 브라우저는 웹페이지를 표시함.

  ![client-server.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/510cd684-c9a0-45bd-b45d-b35ad6027628/36606d28-8d84-435e-8bde-efe1f7934a97/client-server.png)

- 자바스크립트는 렌더링 엔진이 아닌 자바스크립트 엔진이 처리함.

- HTML파서는 script 태그를 만나면 자바스크립트 코드를 실행하기 위해 DOM 생성 프로세스를 중지하고 자바스크립트 엔진으로 제어 권한을 넘김.

- 제어 권한을 넘겨 받은 자바스크립트 엔진은 script 태그 내의 자바스크립트 코드 또는 script 태그의 src 어트리뷰트에 정의된 자바스크립트 파일을 로드하고 파싱하여 실행함.

- 브라우저는 동기적으로 HTML, CSS, Javascript를 처리함.

- body 요소의 가장 아래에 자바스크립트를 위치시키는 것이 좋은 이유.

  - HTML 요소들이 스크립트 로딩 지연으로 인해 렌더링 지장 받는 일이 발생하지 않아 페이지 로딩 시간이 단축.
  - DOM이 완성되지 않은 상태에서 자바스크립트가 DOM을 조작한다면 에러가 발생.